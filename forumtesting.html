<!DOCTYPE html>
<html>
<head>
<style>
body {background-color: powderblue;}
h1   {color: blue;}
p    {color: red;}
p {
  border: 2px solid powderblue;
  margin: 50px
  padding: 30px;
} 
</style>
</head>
<body>
<span><header style="background-color:#70f0ff;border:2px solid Tomato;font-family:Comic Sans MS,Comic Sans,cursive;color:#ff0004"> this is stupid </header></span>
<span><nav style="background-color:#70f0ff;border:2px solid Tomato;font-family:Comic Sans MS,Comic Sans,cursive;color:#ff0004"><div class="topnav">
  <a class="active" href="./index.html">Home</a>
  <a href="./forumtesting.html">forumtesting</a>
  <a href="./1.html">Start</a>
  <a href="./about.html">About</a>
</div></nav></span>  
<h1>testingn</h1>
<p> t e s t i n g </p>

</body>
</html>
mysql> create table forum_topics (
    -> topic_id int not null primary key auto_increment,
    -> topic_title varchar (150),
    -> topic_create_time datetime,
    -> topic_owner varchar (150)
    -> );
Query OK, 0 rows affected (0.03 sec)

mysql> create table forum_posts (
    -> post_id int not null primary key auto_increment,
    -> topic_id int not null,
    -> post_text text,
    -> post_create_time datetime,
    -> post_owner varchar (150)
    -> );
Query OK, 0 rows affected (0.00 sec)
<html>
<head>
<title>Add a Topic</title>
</head>
<body>
<h1>Add a Topic</h1>
  <form method=post action="do_addtopic.php">
  <p><strong>Your E-Mail Address:</strong><br>
 <input type="text" name="topic_owner" size=40 maxlength=150>
 <p><strong>Topic Title:</strong><br>
 <input type="text" name="topic_title" size=40 maxlength=150>
 <P><strong>Post Text:</strong><br>
   <textarea name="post_text" rows=8 cols=40 wrap=virtual></textarea>
<P><input type="submit" name="submit" value="Add Topic"></p>
  </form>
 </body>
 </html>
<?php
 //check for required fields from the form
 if ((!$_POST[topic_owner]) || (!$_POST[topic_title])
|| (!$_POST[post_text])) {
     header("Location: addtopic.html");
    exit;
}
//connect to server and select database
$conn = mysql_connect("localhost", "joeuser", "somepass")
    or die(mysql_error());
mysql_select_db("testDB",$conn) or die(mysql_error());

//create and issue the first query
$add_topic = "insert into forum_topics values ('', '$_POST[topic_title]',
   now(), '$_POST[topic_owner]')";
 mysql_query($add_topic,$conn) or die(mysql_error());

//get the id of the last query 
 $topic_id = mysql_insert_id();
 
  //create and issue the second query
 $add_post = "insert into forum_posts values ('', '$topic_id',
    '$_POST[post_text]', now(), '$_POST[topic_owner]')";
  mysql_query($add_post,$conn) or die(mysql_error());
 
  //create nice message for user
  $msg = "<P>The <strong>$topic_title</strong> topic has been created.</p>";
  ?>
 <html>
  <head>
 <title>New Topic Added</title>
</head>
 <body>
 <h1>New Topic Added</h1>
 <?php print $msg; ?>
 </body>
 </html>
